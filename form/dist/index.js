!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("form",[],e):"object"==typeof exports?exports.form=e():t.form=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){var e=t.main,n=t.elm,r=t.emit,u=t.msg,a=t.injection,s=t.update,p=a.validators;e(function(t){return[v]});var v=function(t){var e=t.on;e("keyup",c,y),e("blur",c,m),e("change",f,m),e("submit",b)},y=function(t){var e=t.target.name,r=l(n),a=r.data;(0,i.default)(o({},e,a[e]),p).then(function(t){return u.set(function(t){return t.errors[e]=void 0})}).catch(function(t){return t}).finally(h)},m=function(t){var e=t.target.name,r=l(n),o=r.data;(0,i.default)(o,p).then(function(t){return u.set(function(t){return t.errors={}})}).catch(function(t){t=d(t),u.set(function(n){return n.errors[e]=t[e]})}).finally(h)},b=function(t){var e=l(n),o=e.data;(0,i.default)(o,p).then(function(e){r(":submit",{event:t,data:o}),u.set(function(t){return t.errors={}})}).catch(function(e){u.set(function(t){return t.errors=d(e)}),t.preventDefault()}).finally(h),t.preventDefault()},h=function(){var t=l(n),e=t.data,o=u.getState().valid;return(0,i.default)(e,p).then(function(t){o||(u.set(function(t){return t.valid=!0}),r(":valid"))}).catch(function(t){o&&(u.set(function(t){return t.valid=!1}),r(":invalid"))})};s(function(t){u.set(function(e){return e.data=t})})}Object.defineProperty(e,"__esModule",{value:!0}),e.model=void 0,e.default=u;var a=n(1),i=r(a),c='input[data-rules]:not([type="checkbox"]):not([type="radio"])',f='input[data-rules][type="checkbox"],input[data-rules][type="radio"]',l=(e.model={errors:{},valid:!1,data:{}},function(t){var e=Array.from(t.elements).reduce(function(t,e){if(e.name){var n=new Function("return "+e.dataset.rules)(),r=n?n:null,o=e.type&&"checkbox"==e.type,u=o?e.checked?e.value:"":e.form[e.name].value;t[e.name]={value:u,rules:r}}return t},{});return{data:e}}),d=function(t){return Object.keys(t).reduce(function(e,n){return e[n]=Object.keys(t[n])[0],e},{})}},function(t,e,n){var r,o,u;(function(t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a,i){"object"==n(e)&&"object"==n(t)?t.exports=i():(o=[],r=i,u="function"==typeof r?r.apply(e,o):r,!(void 0!==u&&(t.exports=u)))}(void 0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return new Promise(function(n,r){var o={};return Object.keys(t).forEach(function(n){var r=t[n];Object.keys(r.rules||{}).forEach(function(u){if(!e[u])return console.warn("[Validation] There is no rule => "+u);var a=e[u]({value:r.value,data:r.rules[u],fields:t});a||(o[n]=o[n]||{},o[n][u]={data:r})})}),Object.keys(o).length?r(o):n(t)})}}])})}).call(e,n(2)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}}])});