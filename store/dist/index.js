!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("store",[],n):"object"==typeof exports?exports.store=n():t.store=n()}(this,function(){return function(t){function n(o){if(e[o])return e[o].exports;var i=e[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n){"use strict";function e(t,n){return t={},n={},{publish:function(e,o){e in t?t[e].forEach(function(t){t(o)}):n[e]=o},subscribe:function(e,o){return t[e]=t[e]||[],t[e].push(o),e in n&&t[e].forEach(function(t){t(n[e])}),function(){t[e]=t[e].filter(function(t){return t==o})}}}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e(),o="__update__",i=JSON.parse(JSON.stringify(t));return{get:function(){return i},set:function(t){t(i),n.publish(o,{state:i})},actions:function(t){var e=function(e){n.subscribe(e,function(n){i=Object.assign(i,t[e](i,n))})};for(var o in t)e(o)},dispatch:function(t,e){n.publish(t,e),n.publish(o,{state:i,action:t,payload:e})},subscribe:function(t){return t.call?n.subscribe(o,function(n){var e=n.state,o=n.action,i=n.payload;return t(e,{action:o,payload:i})}):void n.subscribe(o,function(n){var e=n.state,o=n.action,i=n.payload;o in t&&t[o](e,{action:o,payload:i})})}}}}])});