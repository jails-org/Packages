!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jails.packages/virtualdom")):"function"==typeof define&&define.amd?define("template",["jails.packages/virtualdom"],t):"object"==typeof exports?exports.template=t(require("jails.packages/virtualdom")):e.template=t(e["jails.packages/virtualdom"])}(this,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),u=n(i),s=r(2),l=n(s);t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"template",r=document.createElement("textarea"),n=e.querySelector(t);r.innerHTML=n.innerHTML.trim();var i=l.default.compile(r.value);return r=null,(0,u.default)(e,i)}},function(t,r){t.exports=e},function(e,t,r){(function(t){"use strict";var r={};r.helpers={},r.version="v1.8.3",r.cache={},r.ENCODE=/[<>&"]/g,r.TRIM=/\n$/g,r.debug=!1,r.settings={delimiters:["{{","}}"]},r.register=function(e,t){return r.helpers[e]=t,r},r.compile=function(e){e||(e="");for(var t,n=-1,i=[],u=-1,s=0,l=e.length,a=0,o=r.settings.delimiters[0].length,c=[],f=-1;l>n++;){var p=e.substring(n,n+o);if(u===-1)if(p!==r.settings.delimiters[0]);else{if(u!==-1){a++;continue}t=e.substring(s,n),t&&(f=c.indexOf(t),f===-1&&(f=c.length,c.push(t))),i.push(t?"txt["+f+"]":'""'),u=n+o}else if(p===r.settings.delimiters[1]){if(a>0){a--;continue}var g=e.substring(u,n).trim(),d=g.substring(0,3);if("if "===d||"for"===d||"end"===g||"fi"===g||"else"===g||"else if"===g){var h=c.length-1;c[h]&&(c[h]=c[h].replace(r.TRIM,""))}i.push(g),s=n+o,u=-1;continue}}t=e.substring(s,l),t&&(f=c.indexOf(t),f===-1&&(f=c.length,c.push(t))),i.push(t?"txt["+f+"]":'""'),l=i.length;for(var v="$output+=",$='var $s=this,$output="",$t,$v;',m=[],b=!1,x=0,w=0;w<l;w++)if(w%2!==0){var g=i[w],T=!1,n=g.lastIndexOf("|"),y=null,j=g.substring(0,3);"if "===j&&(g="if( "+g.substring(3)+"){",T=!0),"foreach "===g.substring(0,8)&&(y=g.split(" "),"var"===y[1]&&y.splice(1,1),m.push(y[1]),T=!0,b=!0,x++);var O=g.substring(0,5);if("endif"===O||"fi"===g?(g="}",T=!0):"else"===O?(g="}else{",T=!0):"else if"===g.substring(0,7)?(g="}else if( "+g.substring(8)+"){",T=!0):"end"!==j&&"endfor"!==g.substring(0,6)||(g=m.length?"}})()}":"}}",m.pop(),T=!0,x--,x||(b=!1)),g=T?r.append(g,m,b,"$s").trim():r.helper(g,m,b,"$s"),T){if(y){var M=r.append(y[3],m,b,"$s");g="if ("+M+"&&"+M+".length){(function(){for(var i=0,length="+M+".length;i<length;i++){var "+y[1]+"="+M+"[i];var $index=i;"}$+=g}else $+=v+g+";"}else $+=v+i[w]+";";var k=59===$.charCodeAt($.length-1);return r.debug&&(console.log("Tangular:"),console.log("function(helpers,$){"+$+(k?"":";")+"return $output;"),console.log(e.trim()),console.log("---------------------------"),console.log("")),function(e,t){return new Function("helpers","$","txt",$+(k?"":";")+"return $output;").call(e,r.helperhandling,t,c)}},r.helperhandling=function(e){var t=r.helpers[e];return t?t:(console.warn('Tangular helper "'+e+'" not found.'),function(e){return void 0===e?"undefined":null===e?"null":e.toString()})},r.helper=function(e,t,n){var i,u=e.indexOf("|");if(u===-1)return i=r.append(e.trim(),t,n,"$s").trim(),'helpers("encode").call($s,'+i+")";i=r.append(e.substring(0,u).trim(),t,n).trim(),e=e.substring(u+1).trim().split("|");for(var s="",l=0,a=e.length;l<a;l++){var o,c=e[l].trim().replace("()","");u=c.indexOf("("),u===-1?(o=c,c=".call($s,$t)"):(o=c.substring(0,u),c=".call($s,$t,"+c.substring(u+1)),c='$t=helpers("'+o+'")'+c,s+=c+";"}return'"";$t='+i+";"+s+"$output+=$t"},r.append=function(e,t,r,n){return void 0===t&&(t=[]),e?e.replace(/[\_\$a-zá-žÁ-ŽA-Z0-9\s\.\[\]]+/g,function(e,r,i){var u=i.substring(r-1,r),s=!1,l=e.trim();switch('"'!==u&&"'"!==u&&"."!==u||(s=!0),e.trim()){case"else":case"end":case"endfor":case"endif":case"fi":case"foreach":case"if":case"else if":return e;case"$index":if(!s)return e}if(!l)return"";if(s)return e;s=!1;for(var a=0,o=t.length;a<o;a++){var c=t[a].length;if(l.substring(0,c)===t[a]){if(l.length!==c){var u=l.substring(c,c+1);if("."!==u&&"+"!==u)continue}s=!0;break}}if("$"===l)return"Tangular.$wrap($)";if("$."===l.substring(0,2)&&(n="$",l=l.substring(2)),s)return l;u=l.substring(0,1);var f=u.charCodeAt(0);return f>47&&f<58?l:"Tangular.$wrap("+(n||"$s")+',"'+l+'")'}):"Tangular.$wrap("+(n||"$s")+")"},r.$wrap=function(e,t){if(!e||!t)return e;var n=r.cache[t];if(null===n)return e[t];if(n)return n(e);if(1===t.split(".").length)return r.cache[t]=null,e[t];try{n=r.cache[t]=new Function("XYZ","try{return XYZ."+t+'}catch(e){return ""}')}catch(e){n=new Function('return ""')}return n(e)},r.render=function(e,t,n){return null==t&&(t={}),"string"==typeof e&&(e=r.compile(e)),e(t,n)},r.register("encode",function(e){return null==e?"":e.toString().replace(r.ENCODE,function(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;"}return e})}),r.register("raw",function(e){return null==e?"":e}),"undefined"!=typeof t?t.Tangular=t.Ta=r:"undefined"!=typeof window&&(window.Tangular||(window.Tangular=r),window.Ta=r),e.exports=r}).call(t,function(){return this}())}])});